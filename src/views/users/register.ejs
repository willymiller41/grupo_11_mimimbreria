<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>
<body>
    <%- include('../partials/header.ejs')  %>
    <main>
        <h1>Registro de usuarios</h1>
        <form action="/register" method="post" class="register-form" enctype="multipart/form-data">
            <div class="register">
                <div class="register-datos">
                    <div class="register-datos-personales">
                        <div>
                            <label for="name">Nombre:</label>
                            <% if(locals.errors && errors.name){ %>
                                <div class="error-msg"><%= errors.name.msg %></div> 
                            <% } %>
                            <input type="text" name="name" id="name" value="<%= locals.oldData ? oldData.name : null  %>">
                        </div>
                        <div>
                            <label for="surname">Apellido: </label>
                            <% if(locals.errors && errors.surname){ %>
                                <div class="error-msg"><%= errors.surname.msg %></div> 
                            <% } %>
                            <input type="text" name="surname" id="surname" value="<%= locals.oldData ? oldData.surname : null  %>">
                        </div>
                        <div>
                            <label for="email">Email: </label>
                            <% if(locals.errors && errors.email){ %>
                                <div class="error-msg"><%= errors.email.msg %></div> 
                            <% } %>
                            <input type="email" name="email" id="email" value="<%= locals.oldData ? oldData.email : null  %>">
                        </div>
                        <div>
                            <label for="phone">Teléfono: </label>
                            <input type="tel" name="phone" id="phone" value="<%= locals.oldData ? oldData.phone : null  %>">
                        </div>
                    </div>
                    <div class="register-datos-ubicacion">
                        <div>
                            <label for="address">Dirección: </label>
                            <% if(locals.errors && errors.address){ %>
                                <div class="error-msg"><%= errors.address.msg %></div> 
                            <% } %>
                            <input type="text" name="address" id="address" value="<%= locals.oldData ? oldData.address : null  %>">
                        </div>
                        <div>
                            <label for="code">Código Postal: </label><br>
                            <% if(locals.errors && errors.code){ %>
                                <div class="error-msg"><%= errors.code.msg %></div> 
                            <% } %>
                            <input type="text" name="code" id="code" value="<%= locals.oldData ? oldData.code : null  %>">
                        </div>
                        <div>
                            <label for="avatar">Ingrese su foto de perfil: </label>
                            <% if(locals.errors && errors.avatar){ %>
                                <div class="error-msg"><%= errors.avatar.msg %></div> 
                            <% } %>
                            <input type="file" name="avatar" id="avatar" value="<%= locals.oldData ? oldData.image : null  %>">
                        </div>
                        <div>
                            <label for="password">Contraseña: </label>
                            <% if(locals.errors && errors.password){ %>
                                <div class="error-msg"><%= errors.password.msg %></div> 
                            <% } %>
                            <input type="password" name="password" id="password">
                        </div>
                        <div>
                            <label for="password2">Repetir contraseña: </label>
                            <% if(locals.errors && errors.password2){ %>
                                <div class="error-msg"><%= errors.password2.msg %></div> 
                            <% } %>
                            <input type="password" name="password2" id="password2" value="">
                        </div>
                    </div>
                </div>
                <div class="register-botones">
                    <button type="submit">Registrarse</button>
                    <a href="/login"><button type="button">Ingresar</button></a>
                </div>
            </div>
        </form>
    </main>
    <hr>
    <%- include('../partials/footer.ejs')  %>
</body>
</html>